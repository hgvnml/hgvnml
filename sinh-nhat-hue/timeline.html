<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="icon" type="image/png" href="./img/CILKGax.png">
        <!-- Tiêu đề của trang dòng thời gian -->
		<title>Đôi lời gửi tới Huệ</title>	    
        <link type="text/css" rel="stylesheet" href="./css/default.css">
        <link rel="stylesheet" href="./css/style.css">
		<script type="text/javascript" src="./js/jquery.min.js"></script>
		<script type="text/javascript" src="./js/jscex.min.js"></script>
		<script type="text/javascript" src="./js/jscex-parser.js"></script>
		<script type="text/javascript" src="./js/jscex-jit.js"></script>
		<script type="text/javascript" src="./js/jscex-builderbase.min.js"></script>
		<script type="text/javascript" src="./js/jscex-async.min.js"></script>
		<script type="text/javascript" src="./js/jscex-async-powerpack.min.js"></script>
		<script type="text/javascript" src="./js/functions.js" charset="utf-8"></script>
		<script type="text/javascript" src="./js/love.js" charset="utf-8"></script>
	    <style type="text/css"></style>

</head>
    <body>
        <div class="buttons">
            <a href="index.html" class="btn btn-bir">Happy Birthday</a>
            <a href="timeline.html" class="btn btn-timeline">Dòng thời gian</a>
            <a href="gallery.html" class="btn btn-gallery">Ảnh kỉ niệm</a>
        </div>
        <div id="main">
             <div id="wrap">
                <div id="text">
			        <div id="code">
					<!-- 4. CHỈNH SỬA LỜI CHÚC CỦA BẠN TẠI ĐÂY-->
			      <font color="#3500ff"><span class="say">Gửi Huệ, </span><br>
						<span class="say">Đúng là thời gian trôi qua nhanh thật cậu nhỉ.</span><br>
						<span class="say">Mới ngày nào chúng ta mới tương tác qua mạng xã hội, mà nay đã có thể gặp nhau ở ngoài..... rồi trở thành đôi bạn thân nữa chớ.</span>
						<span class="say"> </span> Chúng ta cũng đã quen nhau ngót cũng đã 3 năm rùi, cũng nhanh thật cậu nhỉ. Mình cũng không nghĩ rằng chúng ta có thể bước hành trình dài như vậy.
						<span class="say"></span>Hôm nay.......<br>
						<span class="say"></span>Là 1 ngày đặt biệt của cậu, tôi không có gì nhiều. Nên mình gửi tặng Huệ 1 trang web nhỏ này, nhằm chúc mừng sinh nhật cậu đóa. 
						<span class="say"></span>Chúc cậu có 1 ngày sinh nhật thật zui zẻ. Thành công rực rở trên con đường của mình, luôn xinh đẹp nà và mau mau có bồ đi nhá. Mãi chưa thấy ny cậu đâu😒  <br>
						<span class="say"></span>Mình gửi tặng cậu 1 lời chúc chân thành nhất. Mình ko nghĩ rằng chúng ta quen với nhau trong nhiều năm đâu. Cũng ngót mấy năm rùi đó, mãi là những người bạn tốt của nhau nhé.
						<span class="say"></span> Cảm vì quen một người bạn như Huệ, những ngày tháng mình với cậu có lẽ ko dài, nhưng đó là kỉ niệm đẹp đối với tôi.<br>
						<span class="say"></span>Một lần nữa, chúc mừng sinh nhật lần thứ 19 của Huệ🙆❤️ Trong ngày đặc biệt này, tôi chỉ muốn bạn biết rằng, bạn luôn là nguồn cảm hứng và niềm vui trong cuộc sống của tôi. Hy vọng rằng ngày hôm nay sẽ mang lại cho bạn tất cả niềm vui và hạnh phúc mà bạn xứng đáng nhận được. Hãy có một ngày tuyệt vời nhé🎂<br>
						<span class="say"> 🎁</span>

                        <span class="say"><span class="space"></span> -- Chúc Huệ có ngày sinh nhật vui vẻ🎉🎁 --</span>
			  </font></p>
      </div>
                </div>
                <div id="clock-box">
					<span class="STYLE1"> Thời gian khi làm bạn với Huệ  <!--Có thể thay đổi chổ này thành số tuổi của người bạn muốn chúc -->
                  <div id="clock"></div>
              </div>
                <canvas id="canvas" width="1100" height="680"></canvas>
            </div>
            
        </div>

    <!-- Phần nhạc -->
    <audio id="player" autoplay loop>
        <source src="./music/hpbd.mp3" type="audio/mp3" />
    </audio>
    <script>
    (function(){
        var canvas = $('#canvas');
		
        if (!canvas[0].getContext) {
            $("#error").show();
            return false;        }

        var width = canvas.width();
        var height = canvas.height();        
        canvas.attr("width", width);
        canvas.attr("height", height);
        var opts = {
            seed: {
                x: width / 2 - 20,
                color: "rgb(190, 26, 37)",
                scale: 2
            },
            branch: [
                [535, 680, 570, 250, 500, 200, 30, 100, [
                    [540, 500, 455, 417, 340, 400, 13, 100, [
                        [450, 435, 434, 430, 394, 395, 2, 40]
                    ]],
                    [550, 445, 600, 356, 680, 345, 12, 100, [
                        [578, 400, 648, 409, 661, 426, 3, 80]
                    ]],
                    [539, 281, 537, 248, 534, 217, 3, 40],
                    [546, 397, 413, 247, 328, 244, 9, 80, [
                        [427, 286, 383, 253, 371, 205, 2, 40],
                        [498, 345, 435, 315, 395, 330, 4, 60]
                    ]],
                    [546, 357, 608, 252, 678, 221, 6, 100, [
                        [590, 293, 646, 277, 648, 271, 2, 80]
                    ]]
                ]] 
            ],
            bloom: {
                num: 700,
                width: 1080,
                height: 650,
            },
            footer: {
                width: 1200,
                height: 5,
                speed: 10,
            }
        }

        var tree = new Tree(canvas[0], width, height, opts);
        var seed = tree.seed;
        var foot = tree.footer;
        var hold = 1;

        canvas.click(function(e) {
            var offset = canvas.offset(), x, y;
            x = e.pageX - offset.left;
            y = e.pageY - offset.top;
            if (seed.hover(x, y)) {
                hold = 0; 
                canvas.unbind("click");
                canvas.unbind("mousemove");
                canvas.removeClass('hand');
            }
        }).mousemove(function(e){
            var offset = canvas.offset(), x, y;
            x = e.pageX - offset.left;
            y = e.pageY - offset.top;
            canvas.toggleClass('hand', seed.hover(x, y));
        });

        var seedAnimate = eval(Jscex.compile("async", function () {
            seed.draw();
            while (hold) {
                $await(Jscex.Async.sleep(10));
            }
            while (seed.canScale()) {
                seed.scale(0.95);
                $await(Jscex.Async.sleep(10));
            }
            while (seed.canMove()) {
                seed.move(0, 2);
                foot.draw();
                $await(Jscex.Async.sleep(10));
            }
        }));

        var growAnimate = eval(Jscex.compile("async", function () {
            do {
    	        tree.grow();
                $await(Jscex.Async.sleep(10));
            } while (tree.canGrow());
        }));

        var flowAnimate = eval(Jscex.compile("async", function () {
            do {
    	        tree.flower(2);
                $await(Jscex.Async.sleep(10));
            } while (tree.canFlower());
        }));

        var moveAnimate = eval(Jscex.compile("async", function () {
            tree.snapshot("p1", 240, 0, 610, 680);
            while (tree.move("p1", 500, 0)) {
                foot.draw();
                $await(Jscex.Async.sleep(10));
            }
            foot.draw();
            tree.snapshot("p2", 500, 0, 610, 680);

            canvas.parent().css("background", "url(" + tree.toDataURL('image/png') + ")");
            canvas.css("background", "#ffe");
            $await(Jscex.Async.sleep(300));
            canvas.css("background", "none");
        }));

        var jumpAnimate = eval(Jscex.compile("async", function () {
            var ctx = tree.ctx;
            while (true) {
                tree.ctx.clearRect(0, 0, width, height);
                tree.jump();
                foot.draw();
                $await(Jscex.Async.sleep(25));
            }
        }));

        var textAnimate = eval(Jscex.compile("async", function () {
		    var together = new Date();
		    var year = 2021, month = 7, day = 27;  // 5. thay đổi ngày tháng năm yêu nhau tại đây hoặc ngày sinh của người mà bạn muốn chúc
		    together.setFullYear(year, month - 1, day); 			
		    together.setHours(0);							
		    together.setMinutes(0);				
		    together.setSeconds(0);					
		    together.setMilliseconds(0);			

		    $("#code").show().typewriter();
            $("#clock-box").fadeIn(500);
            while (true) {
                timeElapse(together);
                $await(Jscex.Async.sleep(1000));
            }
        }));

        var runAsync = eval(Jscex.compile("async", function () {
            $await(seedAnimate());
            $await(growAnimate());
            $await(flowAnimate());
            $await(moveAnimate());

            textAnimate().start();

            $await(jumpAnimate());
        }));

        runAsync().start();
    })();
    </script>
</div>
</body>
</html>
